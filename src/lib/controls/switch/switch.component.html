<div class="form-check form-switch">
  <input
    (blur)="onTouched()"
    [disabled]="disabled"
    [name]="key"
    (input)="valChanged($event)"
    [checked]="val"
    class="form-check-input"
    [ngClass]="{ 'ng-invalid': control?.invalid, 'ng-valid': control?.valid }"
    role="switch"
    type="checkbox"/>
  <label (click)="labelClick()" class="form-check-label">{{ label | observableString }}</label>


  <ng-container *ngIf="helperTextTemplate && helperTextTemplate.templateRef">
    <div class="form-text">
      <ng-container [ngTemplateOutlet]="helperTextTemplate.templateRef"/>
    </div>
  </ng-container>

  <ng-container *ngIf="validatorsMessage && validatorsMessage.length > 0">
    <div class="ngy-invalid-feedback small">
      <ng-container *ngFor="let directive of validatorsMessage">
        <div *ngIf="control?.errors?.[directive.ngyValidatorMessage]">
          <ng-container [ngTemplateOutlet]="directive.templateRef"/>
        </div>
      </ng-container>
    </div>
  </ng-container>

</div>
