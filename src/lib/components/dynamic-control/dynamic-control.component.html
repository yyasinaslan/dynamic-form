<ng-container *ngIf="path && fGroup && input" [formGroup]="fGroup">
  <!-- ENTRY POINT -->
  <!-- Get template according to Control Type -->
  <ng-container [ngSwitch]="input.controlType">
    <ng-container *ngSwitchCase="'textbox'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="textBoxTemplate"></ng-container>
    <ng-container *ngSwitchCase="'file'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="fileInputTemplate"></ng-container>
    <ng-container *ngSwitchCase="'textarea'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="textAreaTemplate"></ng-container>
    <ng-container *ngSwitchCase="'dropdown'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="dropDownTemplate"></ng-container>
    <ng-container *ngSwitchCase="'switch'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="switchTemplate"></ng-container>
    <ng-container *ngSwitchCase="'checkbox'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="checkboxTemplate"></ng-container>
    <ng-container *ngSwitchCase="'checkboxgroup'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="checkboxGroupTemplate"></ng-container>
    <ng-container *ngSwitchCase="'radiogroup'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="radioGroupTemplate"></ng-container>
  </ng-container>

  <!-- TEXTBOX TEMPLATE -->
  <ng-template #textBoxTemplate let-inputData let-pathData="pathData">
    <ngy-textbox
      [floating]="inputData.floating"
      [formControlName]="inputData.key"
      [formName]="formName"
      [input]="inputData"></ngy-textbox>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <!-- FILEINPUT TEMPLATE -->
  <ng-template #fileInputTemplate let-inputData let-pathData="pathData">
    <ngy-file-input
      [formControlName]="inputData.key"
      [formName]="formName"
      [input]="inputData"></ngy-file-input>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <!-- DROPDOWN TEMPLATE -->
  <ng-template #dropDownTemplate let-inputData let-pathData="pathData">
    <ngy-select [compareWith]="inputData.compareWith" [formControlName]="inputData.key"
                [input]="inputData"></ngy-select>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <!-- TEXTAREA TEMPLATE -->
  <ng-template #textAreaTemplate let-inputData let-pathData="pathData">
    <ngy-textbox
      [floating]="inputData.floating"
      [formControlName]="inputData.key"
      [formName]="formName"
      [input]="inputData"></ngy-textbox>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <!-- SWITCH TEMPLATE -->
  <ng-template #switchTemplate let-inputData let-pathData="pathData">
    <ngy-switch [formControlName]="inputData.key" [input]="inputData"></ngy-switch>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <!-- CHECKBOX TEMPLATE -->
  <ng-template #checkboxTemplate let-inputData let-pathData="pathData">
    <ngy-checkbox [formControlName]="inputData.key" [input]="inputData"></ngy-checkbox>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <!-- CHECKBOXGROUP TEMPLATE -->
  <ng-template #checkboxGroupTemplate let-inputData let-pathData="pathData">
    <ngy-multi-checkbox [compareWith]="inputData.compareWith" [formControlName]="inputData.key"
                        [input]="inputData"></ngy-multi-checkbox>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <!-- RADIOGROUP TEMPLATE -->
  <ng-template #radioGroupTemplate let-inputData let-pathData="pathData">
    <ngy-multi-checkbox [compareWith]="inputData.compareWith" [formControlName]="inputData.key"
                        [input]="inputData"></ngy-multi-checkbox>
    <ng-container [ngTemplateOutletContext]="{$implicit: inputData, pathData:pathData}"
                  [ngTemplateOutlet]="validationTextTemplate"></ng-container>
  </ng-template>

  <ng-template #validationTextTemplate let-inputData let-pathData="pathData">
    <ngy-helper-text *ngIf="inputData.helperText" [input]="inputData"></ngy-helper-text>
    <ngy-validation-feedback
      *ngIf="inputData.validatorsMessage"
      [control]="fGroup.get(pathData)"
      [input]="inputData"></ngy-validation-feedback>
  </ng-template>
</ng-container>
