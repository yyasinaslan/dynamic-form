<ng-container *ngIf="input && fGroup" [formGroup]="fGroup">
  <ng-container [ngSwitch]="input.controlType">

    <!-- Iterate array items within form -->
    <!--    <ng-container *ngSwitchCase="'array'" [formArrayName]="input.key">-->
    <!--      <ng-container *ngFor="let item of arrayItems; let i=index">-->
    <!--        <ngy-form-control *ngIf="input.input" [arrayItemIndex]="i" [fGroup]="$any(item)" [formName]="formName"-->
    <!--                          [groupTemplate]="groupTemplate" [input]="input.input"></ngy-form-control>-->
    <!--      </ng-container>-->
    <!--    </ng-container>-->

    <!-- Form group -->
    <!--    <ng-container *ngSwitchCase="'group'">-->
    <!--      <ng-container #groupTemplateContainer [ngTemplateOutletContext]="{index: arrayItemIndex, fGroup: fGroup, formName: formName, inputs: groupInputsWithKey}"-->
    <!--                    [ngTemplateOutlet]="groupTemplate ? groupTemplate : defaultGroupTemplate"></ng-container>-->
    <!--      <ng-template #defaultGroupTemplate>-->
    <!--        <ng-container *ngFor="let item of groupInputs">-->
    <!--          <ngy-form-control [fGroup]="fGroup" [formName]="formName" [input]="item" [path]="item.key"></ngy-form-control>-->
    <!--        </ng-container>-->
    <!--      </ng-template>-->
    <!--    </ng-container>-->

    <ng-container *ngSwitchCase="'textbox'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="textBoxTemplate"></ng-container>
    <ng-container *ngSwitchCase="'file'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="fileInputTemplate"></ng-container>
    <ng-container *ngSwitchCase="'textarea'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="textAreaTemplate"></ng-container>
    <ng-container *ngSwitchCase="'dropdown'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="dropDownTemplate"></ng-container>
    <ng-container *ngSwitchCase="'switch'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="switchTemplate"></ng-container>
    <ng-container *ngSwitchCase="'checkbox'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="checkboxTemplate"></ng-container>
    <ng-container *ngSwitchCase="'checkboxgroup'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="checkboxGroupTemplate"></ng-container>
    <ng-container *ngSwitchCase="'radiogroup'" [ngTemplateOutletContext]="{$implicit: input, pathData: path}"
                  [ngTemplateOutlet]="radioGroupTemplate"></ng-container>

    <!-- TEXTBOX TEMPLATE -->
    <ng-template #textBoxTemplate let-inputData let-pathData="pathData">
      <ngy-textbox
        [key]="inputData.key"
        [id]="inputData.id"
        [label]="inputData.label"
        [value]="inputData.value"
        [type]="inputData.type"
        [readonly]="inputData.readonly"
        [floating]="inputData.floating"
        [placeholder]="inputData.placeholder"

        [formControlName]="inputData.key"

        (ngyChange)="inputData.change ? inputData.change($event) : null"
        (ngyFocus)="inputData.focus ? inputData.focus($event) : null"
        (ngyBlur)="inputData.blur ? inputData.blur($event) : null"
        (ngyClick)="inputData.click ? inputData.click($event) : null"
        (ngyContextMenu)="inputData.contextMenu ? inputData.contextMenu($event) : null"/>
    </ng-template>

    <!-- FILEINPUT TEMPLATE -->
    <ng-template #fileInputTemplate let-inputData let-pathData="pathData">
      <ngy-file-input
        [formControlName]="inputData.key"
        [formName]="formName"
        [input]="inputData"></ngy-file-input>
    </ng-template>

    <!-- DROPDOWN TEMPLATE -->
    <ng-template #dropDownTemplate let-inputData let-pathData="pathData">
      <ngy-select [compareWith]="inputData.compareWith"
                  [key]="inputData.key"
                  [id]="inputData.id"
                  [label]="inputData.label"
                  [value]="inputData.value"
                  [type]="inputData.type"
                  [readonly]="inputData.readonly"
                  [floating]="inputData.floating"
                  [placeholder]="inputData.placeholder"

                  [multiple]="inputData.multiple"
                  [options]="inputData.options"

                  [formControlName]="inputData.key"

                  (ngyChange)="inputData.change ? inputData.change($event) : null"
                  (ngyFocus)="inputData.focus ? inputData.focus($event) : null"
                  (ngyBlur)="inputData.blur ? inputData.blur($event) : null"
                  (ngyClick)="inputData.click ? inputData.click($event) : null"
                  (ngyContextMenu)="inputData.contextMenu ? inputData.contextMenu($event) : null"
      ></ngy-select>
    </ng-template>

    <!-- TEXTAREA TEMPLATE -->
    <ng-template #textAreaTemplate let-inputData let-pathData="pathData">
      <ngy-textarea
        [key]="inputData.key"
        [id]="inputData.id"
        [label]="inputData.label"
        [value]="inputData.value"
        [type]="inputData.type"
        [readonly]="inputData.readonly"
        [floating]="inputData.floating"
        [placeholder]="inputData.placeholder"

        [formControlName]="inputData.key"

        (ngyChange)="inputData.change ? inputData.change($event) : null"
        (ngyFocus)="inputData.focus ? inputData.focus($event) : null"
        (ngyBlur)="inputData.blur ? inputData.blur($event) : null"
        (ngyClick)="inputData.click ? inputData.click($event) : null"
        (ngyContextMenu)="inputData.contextMenu ? inputData.contextMenu($event) : null"></ngy-textarea>
    </ng-template>

    <!-- SWITCH TEMPLATE -->
    <ng-template #switchTemplate let-inputData let-pathData="pathData">
      <ngy-switch [key]="inputData.key"
                  [id]="inputData.id"
                  [label]="inputData.label"
                  [value]="inputData.value"
                  [readonly]="inputData.readonly"

                  [formControlName]="inputData.key"

                  (ngyChange)="inputData.change ? inputData.change($event) : null"
                  (ngyFocus)="inputData.focus ? inputData.focus($event) : null"
                  (ngyBlur)="inputData.blur ? inputData.blur($event) : null"
                  (ngyClick)="inputData.click ? inputData.click($event) : null"
                  (ngyContextMenu)="inputData.contextMenu ? inputData.contextMenu($event) : null"></ngy-switch>
    </ng-template>

    <!-- CHECKBOX TEMPLATE -->
    <ng-template #checkboxTemplate let-inputData let-pathData="pathData">
      <ngy-checkbox [formControlName]="inputData.key" [input]="inputData"></ngy-checkbox>
    </ng-template>

    <!-- CHECKBOXGROUP TEMPLATE -->
    <ng-template #checkboxGroupTemplate let-inputData let-pathData="pathData">
      <ngy-multi-checkbox [compareWith]="inputData.compareWith" [formControlName]="inputData.key"
                          [input]="inputData"></ngy-multi-checkbox>
    </ng-template>

    <!-- RADIOGROUP TEMPLATE -->
    <ng-template #radioGroupTemplate let-inputData let-pathData="pathData">
      <ngy-multi-checkbox [compareWith]="inputData.compareWith" [formControlName]="inputData.key"
                          [input]="inputData"></ngy-multi-checkbox>
    </ng-template>

    <ngy-helper-text *ngIf="input.helperText" [text]="input.helperText"></ngy-helper-text>
    <ngy-validation-feedback
      *ngIf="input.validatorsMessage"
      [control]="fGroup.get(path)"
      [validatorsMessage]="input.validatorsMessage"></ngy-validation-feedback>

  </ng-container>


</ng-container>
