<ng-container *ngIf="input && fGroup" [formGroup]="fGroup">
  <ng-container [ngSwitch]="input.controlType">

    <!-- todo: Iterate array items within form -->

    <!-- todo: Form group -->

    <!-- TEXTBOX -->
    <ngy-textbox *ngSwitchCase="'textbox'"
                 [key]="input.key"
                 [id]="input.id"

                 [label]="input.label"
                 [value]="input.value"
                 [inputType]="input.inputType"
                 [readonly]="input.readonly"
                 [floating]="input.floating"
                 [placeholder]="input.placeholder"

                 [formControlName]="input.key"

                 (ngyChange)="input.change ? input.change($event) : null"
                 (ngyFocus)="input.focus ? input.focus($event) : null"
                 (ngyBlur)="input.blur ? input.blur($event) : null"
                 (ngyClick)="input.click ? input.click($event) : null"
                 (ngyContextMenu)="input.contextMenu ? input.contextMenu($event) : null"/>

    <!-- DROPDOWN TEMPLATE -->
    <ng-template #dropDownTemplate let-input let-pathData="pathData">
      <ngy-select *ngSwitchCase="'dropdown'" [compareWith]="input.compareWith"
                  [key]="input.key"
                  [id]="input.id"
                  [label]="input.label"
                  [value]="input.value"
                  [readonly]="input.readonly"
                  [floating]="input.floating"
                  [placeholder]="input.placeholder"

                  [multiple]="input.multiple"
                  [options]="input.options"

                  [formControlName]="input.key"

                  (ngyChange)="input.change ? input.change($event) : null"
                  (ngyFocus)="input.focus ? input.focus($event) : null"
                  (ngyBlur)="input.blur ? input.blur($event) : null"
                  (ngyClick)="input.click ? input.click($event) : null"
                  (ngyContextMenu)="input.contextMenu ? input.contextMenu($event) : null"
      ></ngy-select>
    </ng-template>

    <!-- TEXTAREA TEMPLATE -->
    <ng-template #textAreaTemplate let-input let-pathData="pathData">
      <ngy-textarea *ngSwitchCase="'textarea'"
                    [key]="input.key"
                    [id]="input.id"
                    [label]="input.label"
                    [value]="input.value"
                    [type]="input.type"
                    [readonly]="input.readonly"
                    [floating]="input.floating"
                    [placeholder]="input.placeholder"

                    [formControlName]="input.key"

                    (ngyChange)="input.change ? input.change($event) : null"
                    (ngyFocus)="input.focus ? input.focus($event) : null"
                    (ngyBlur)="input.blur ? input.blur($event) : null"
                    (ngyClick)="input.click ? input.click($event) : null"
                    (ngyContextMenu)="input.contextMenu ? input.contextMenu($event) : null"></ngy-textarea>
    </ng-template>

    <!-- SWITCH TEMPLATE -->
    <ngy-checkbox *ngSwitchCase="'switch'" type="switch" [key]="input.key"
                  [id]="input.id"
                  [label]="input.label"
                  [value]="input.value"
                  [readonly]="input.readonly"

                  [formControlName]="input.key"

                  (ngyChange)="input.change ? input.change($event) : null"
                  (ngyFocus)="input.focus ? input.focus($event) : null"
                  (ngyBlur)="input.blur ? input.blur($event) : null"
                  (ngyClick)="input.click ? input.click($event) : null"
                  (ngyContextMenu)="input.contextMenu ? input.contextMenu($event) : null"/>

    <!-- CHECKBOX TEMPLATE -->
    <ngy-checkbox *ngSwitchCase="'checkbox'"
                  [key]="input.key"
                  [id]="input.id"
                  [label]="input.label"
                  [value]="input.value"
                  [readonly]="input.readonly"

                  [formControlName]="input.key"

                  (ngyChange)="input.change ? input.change($event) : null"
                  (ngyFocus)="input.focus ? input.focus($event) : null"
                  (ngyBlur)="input.blur ? input.blur($event) : null"
                  (ngyClick)="input.click ? input.click($event) : null"
                  (ngyContextMenu)="input.contextMenu ? input.contextMenu($event) : null"/>


    <!-- CHECKBOXGROUP TEMPLATE -->
    <ngy-multi-checkbox *ngSwitchCase="'checkboxgroup'"
                        inputType="checkbox"
                        [compareWith]="input.compareWith"
                        [key]="input.key"
                        [id]="input.id"
                        [label]="input.label"
                        [value]="input.value"
                        [readonly]="input.readonly"

                        [options]="input.options"

                        [formControlName]="input.key"

                        (ngyChange)="input.change ? input.change($event) : null"
                        (ngyFocus)="input.focus ? input.focus($event) : null"
                        (ngyBlur)="input.blur ? input.blur($event) : null"
                        (ngyClick)="input.click ? input.click($event) : null"
                        (ngyContextMenu)="input.contextMenu ? input.contextMenu($event) : null"/>

    <!-- RADIOGROUP TEMPLATE -->
    <ngy-multi-checkbox *ngSwitchCase="'radiogroup'"
                        inputType="radio"
                        [compareWith]="input.compareWith"
                        [key]="input.key"
                        [id]="input.id"
                        [label]="input.label"
                        [value]="input.value"
                        [readonly]="input.readonly"

                        [options]="input.options"

                        [formControlName]="input.key"

                        (ngyChange)="input.change ? input.change($event) : null"
                        (ngyFocus)="input.focus ? input.focus($event) : null"
                        (ngyBlur)="input.blur ? input.blur($event) : null"
                        (ngyClick)="input.click ? input.click($event) : null"
                        (ngyContextMenu)="input.contextMenu ? input.contextMenu($event) : null"/>

    <ngy-helper-text *ngIf="input.helperText">{{input.helperText}}</ngy-helper-text>
<!--    <ng-container *ngIf="input.validatorsMessage">-->
<!--      <ngy-invalid-message *ngFor="let message of input.validatorsMessage"-->
<!--                               [control]="fGroup.get(path)"-->
<!--                               [validatorsMessage]="input.validatorsMessage"></ngy-invalid-message>-->
<!--    </ng-container>-->

  </ng-container>


</ng-container>
